!function(){function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){return i(t[s][1][e]||e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){THREE.EXT={loop:e("raf-loop"),normalize:e("normalize-path-scale"),arc:e("arc-to"),curve:e("adaptive-bezier-curve"),Line:e("../")(THREE),BasicShader:e("../shaders/basic")(THREE),DashShader:e("../test/shader-dash")(THREE),GradientShader:e("../test/shader-gradient")(THREE),app:e("../test/app")}},{"../":2,"../shaders/basic":49,"../test/app":50,"../test/shader-dash":51,"../test/shader-gradient":52,"adaptive-bezier-curve":4,"arc-to":5,"normalize-path-scale":33,"raf-loop":43}],2:[function(e,t,n){var r=e("inherits"),i=e("polyline-normals");t.exports=function(e){function t(n,r){if(!(this instanceof t))return new t(n,r);e.BufferGeometry.call(this),Array.isArray(n)?r=r||{}:"object"==typeof n&&(r=n,n=[]),r=r||{},this.addAttribute("position",new e.BufferAttribute(void 0,3)),this.addAttribute("lineNormal",new e.BufferAttribute(void 0,2)),this.addAttribute("lineMiter",new e.BufferAttribute(void 0,1)),r.distances&&this.addAttribute("lineDistance",new e.BufferAttribute(void 0,1)),"function"==typeof this.setIndex?this.setIndex(new e.BufferAttribute(void 0,1)):this.addAttribute("index",new e.BufferAttribute(void 0,1)),this.update(n,r.closed)}return r(t,e.BufferGeometry),t.prototype.update=function(e,t){e=e||[];var n=i(e,t);t&&(e=e.slice(),e.push(e[0]),n.push(n[0]));var r=this.getAttribute("position"),o=this.getAttribute("lineNormal"),s=this.getAttribute("lineMiter"),a=this.getAttribute("lineDistance"),u="function"==typeof this.getIndex?this.getIndex():this.getAttribute("index"),c=Math.max(0,6*(e.length-1));if(!r.array||e.length!==r.array.length/3/2){var f=2*e.length;r.array=new Float32Array(3*f),o.array=new Float32Array(2*f),s.array=new Float32Array(f),u.array=new Uint16Array(c),a&&(a.array=new Float32Array(f))}void 0!==r.count&&(r.count=f),r.needsUpdate=!0,void 0!==o.count&&(o.count=f),o.needsUpdate=!0,void 0!==s.count&&(s.count=f),s.needsUpdate=!0,void 0!==u.count&&(u.count=c),u.needsUpdate=!0,a&&(void 0!==a.count&&(a.count=f),a.needsUpdate=!0);var l=0,h=0,p=0,d=u.array;e.forEach(function(e,t,n){var i=l;if(d[h++]=i+0,d[h++]=i+1,d[h++]=i+2,d[h++]=i+2,d[h++]=i+1,d[h++]=i+3,r.setXYZ(l++,e[0],e[1],0),r.setXYZ(l++,e[0],e[1],0),a){var o=t/(n.length-1);a.setX(p++,o),a.setX(p++,o)}});var v=0,m=0;n.forEach(function(e){var t=e[0],n=e[1];o.setXY(v++,t[0],t[1]),o.setXY(v++,t[0],t[1]),s.setX(m++,-n),s.setX(m++,n)})},t}},{inherits:30,"polyline-normals":40}],3:[function(e,t,n){function r(e){return[e[0],e[1]]}function i(e,t){return[e,t]}t.exports=function(e){function t(e,t,i,o,s,a){s.push(r(e)),n(e[0],e[1],t[0],t[1],i[0],i[1],o[0],o[1],s,a,0),s.push(r(o))}function n(e,t,r,a,l,h,p,d,v,m,g){if(!(g>o)){var y=Math.PI,b=(e+r)/2,w=(t+a)/2,x=(r+l)/2,M=(a+h)/2,E=(l+p)/2,_=(h+d)/2,L=(b+x)/2,T=(w+M)/2,A=(x+E)/2,j=(M+_)/2,k=(L+A)/2,S=(T+j)/2;if(g>0){var P,z,O=p-e,B=d-t,D=Math.abs((r-p)*B-(a-d)*O),I=Math.abs((l-p)*B-(h-d)*O);if(D>s&&I>s){if((D+I)*(D+I)<=m*(O*O+B*B)){if(c<u)return void v.push(i(k,S));var q=Math.atan2(h-a,l-r);if(P=Math.abs(q-Math.atan2(a-t,r-e)),z=Math.abs(Math.atan2(d-h,p-l)-q),P>=y&&(P=2*y-P),z>=y&&(z=2*y-z),P+z<c)return void v.push(i(k,S));if(0!==f){if(P>f)return void v.push(i(r,a));if(z>f)return void v.push(i(l,h))}}}else if(D>s){if(D*D<=m*(O*O+B*B)){if(c<u)return void v.push(i(k,S));if(P=Math.abs(Math.atan2(h-a,l-r)-Math.atan2(a-t,r-e)),P>=y&&(P=2*y-P),P<c)return v.push(i(r,a)),void v.push(i(l,h));if(0!==f&&P>f)return void v.push(i(r,a))}}else if(I>s){if(I*I<=m*(O*O+B*B)){if(c<u)return void v.push(i(k,S));if(P=Math.abs(Math.atan2(d-h,p-l)-Math.atan2(h-a,l-r)),P>=y&&(P=2*y-P),P<c)return v.push(i(r,a)),void v.push(i(l,h));if(0!==f&&P>f)return void v.push(i(l,h))}}else if(O=k-(e+p)/2,B=S-(t+d)/2,O*O+B*B<=m)return void v.push(i(k,S))}n(e,t,b,w,L,T,k,S,v,m,g+1),n(k,S,A,j,E,_,p,d,v,m,g+1)}}e=e||{};var o="number"==typeof e.recursion?e.recursion:8,s="number"==typeof e.epsilon?e.epsilon:1.1920929e-7,a="number"==typeof e.pathEpsilon?e.pathEpsilon:1,u="number"==typeof e.angleEpsilon?e.angleEpsilon:.01,c=e.angleTolerance||0,f=e.cuspLimit||0;return function(e,n,r,i,o,s){s||(s=[]),o="number"==typeof o?o:1;var u=a/o;return u*=u,t(e,n,r,i,s,u),s}}},{}],4:[function(e,t,n){t.exports=e("./function")()},{"./function":3}],5:[function(e,t,n){t.exports=function(e,t,n,r,i,o,s,a){a||(a=[]),e=e||0,t=t||0,n=n||0,r=r||0,i=i||0;var u=Math.abs(r-i);!o&&r>i?u=2*Math.PI-u:o&&i>r&&(u=2*Math.PI-u),"number"!=typeof s&&(s=Math.max(6,Math.floor(6*Math.pow(n,1/3)*(u/Math.PI)))),s=Math.max(s,3);var c=u/s,f=r;c*=o?-1:1;for(var l=0;l<s+1;l++){var h=Math.cos(f),p=Math.sin(f),d=e+h*n,v=t+p*n;a.push([d,v]),f+=c}return a}},{}],6:[function(e,t,n){t.exports=function(e,t){return"number"==typeof e?e:"number"==typeof t?t:0}},{}],7:[function(e,t,n){"use strict";function r(e){var t=e.length;if(0===t)return[[],[]];for(var n=e[0].length,r=e[0].slice(),i=e[0].slice(),o=1;o<t;++o)for(var s=e[o],a=0;a<n;++a){var u=s[a];r[a]=Math.min(r[a],u),i[a]=Math.max(i[a],u)}return[r,i]}t.exports=r},{}],8:[function(e,t,n){function r(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}t.exports=r},{}],9:[function(e,t,n){t.exports=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}},{}],10:[function(e,t,n){function r(e,t){return{configurable:!0,enumerable:!0,get:e,set:t}}t.exports=r},{}],11:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],12:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=n*n+r*r+i*i+o*o,a=s?1/s:0;return e[0]=-n*a,e[1]=-r*a,e[2]=-i*a,e[3]=o*a,e}t.exports=r},{}],13:[function(e,t,n){t.exports=e("gl-vec4/normalize")},{"gl-vec4/normalize":29}],14:[function(e,t,n){function r(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}t.exports=r},{}],15:[function(e,t,n){function r(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}t.exports=r},{}],16:[function(e,t,n){function r(e,t){return e[0]*t[0]+e[1]*t[1]}t.exports=r},{}],17:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}t.exports=r},{}],18:[function(e,t,n){function r(e,t,n){return e[0]=t,e[1]=n,e}t.exports=r},{}],19:[function(e,t,n){function r(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}t.exports=r},{}],20:[function(e,t,n){function r(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}t.exports=r},{}],21:[function(e,t,n){function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}t.exports=r},{}],22:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],u=n[2];return e[0]=i*u-o*a,e[1]=o*s-r*u,e[2]=r*a-i*s,e}t.exports=r},{}],23:[function(e,t,n){function r(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}t.exports=r},{}],24:[function(e,t,n){function r(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}t.exports=r},{}],25:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}t.exports=r},{}],26:[function(e,t,n){function r(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}t.exports=r},{}],27:[function(e,t,n){function r(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}t.exports=r},{}],28:[function(e,t,n){function r(e,t,n){var r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],u=n[2],c=n[3],f=c*r+a*o-u*i,l=c*i+u*r-s*o,h=c*o+s*i-a*r,p=-s*r-a*i-u*o;return e[0]=f*c+p*-s+l*-u-h*-a,e[1]=l*c+p*-a+h*-s-f*-u,e[2]=h*c+p*-u+f*-a-l*-s,e}t.exports=r},{}],29:[function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s),e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=o*s),e}t.exports=r},{}],30:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],31:[function(e,t,n){function r(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var r=e.clientX||0,o=e.clientY||0,s=i(t);return n[0]=r-s.left,n[1]=o-s.top,n}function i(e){return e===window||e===document||e===document.body?o:e.getBoundingClientRect()}var o={left:0,top:0};t.exports=r},{}],32:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e&&(n=!!t,t=e,e=window);var r=i("ex",e),o=function(e){n&&e.preventDefault();var i=e.deltaX||0,o=e.deltaY||0,s=e.deltaZ||0,a=e.deltaMode,u=1;switch(a){case 1:u=r;break;case 2:u=window.innerHeight}if(i*=u,o*=u,s*=u,i||o||s)return t(i,o,s,e)};return e.addEventListener("wheel",o),o}var i=e("to-px");t.exports=r},{"to-px":46}],33:[function(e,t,n){function r(e,t){if(!Array.isArray(e))throw new TypeError("must specify positions as first argument");Array.isArray(t)||(t=i(e));var n=t[0],r=t[1],s=r[0]-n[0],a=r[1]-n[1],u=s>a?1:a/s,c=s>a?s/a:1;if(r[0]-n[0]==0||r[1]-n[1]==0)return e;for(var f=0;f<e.length;f++){var l=e[f];l[0]=(2*o(n[0],r[0],l[0])-1)/u,l[1]=(2*o(n[1],r[1],l[1])-1)/c}return e}var i=e("bound-points"),o=e("unlerp");t.exports=r},{"bound-points":7,unlerp:48}],34:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var f in n)o.call(n,f)&&(u[f]=n[f]);if(i){a=i(n);for(var l=0;l<a.length;l++)s.call(n,a[l])&&(u[a[l]]=n[a[l]])}}return u}},{}],35:[function(e,t,n){function r(e){function t(e,t){var n=2*Math.PI;y[0]-=n*e*_.rotateSpeed,y[1]-=n*t*_.rotateSpeed}function n(e){y[2]+=e*_.zoomSpeed}function r(e){y[2]-=e*_.pinchSpeed}function d(){var e=_.up||l;u(w,e,l),c(x,w);var t=_.distance;f.subtract(b,_.position,_.target),f.transformQuat(b,b,w);var n=Math.atan2(b[0],b[2]),r=Math.atan2(Math.sqrt(b[0]*b[0]+b[2]*b[2]),b[1]);n+=y[0],r+=y[1],n=s(n,_.thetaBounds[0],_.thetaBounds[1]),r=s(r,_.phiBounds[0],_.phiBounds[1]),r=s(r,h,Math.PI-h),t+=y[2],t=s(t,_.distanceBounds[0],_.distanceBounds[1]);var o=Math.abs(t)<=h?h:t;b[0]=o*Math.sin(r)*Math.sin(n),b[1]=o*Math.cos(r),b[2]=o*Math.sin(r)*Math.cos(n),M=r,E=n,_.distance=t,f.transformQuat(b,b,x),f.add(_.position,_.target,b),i(_.direction,e,_.position,_.target)}function v(){d();for(var e="number"==typeof _.damping?_.damping:1,t=0;t<y.length;t++)y[t]*=1-e}function m(e,t,n){e&&f.copy(e,_.position),t&&f.copy(t,_.direction),n&&f.copy(n,_.up)}function g(){var e=_.phi,t=_.theta;t=s(t,_.thetaBounds[0],_.thetaBounds[1]),e=s(e,_.phiBounds[0],_.phiBounds[1]),e=s(e,h,Math.PI-h);var n=Math.max(h,_.distance);_.position[0]=n*Math.sin(e)*Math.sin(t),_.position[1]=n*Math.cos(e),_.position[2]=n*Math.sin(e)*Math.cos(t),f.add(_.position,_.position,_.target),d()}e=e||{};var y=[0,0,0],b=[0,0,0],w=[0,0,0,1],x=w.slice(),M=o(e.phi,Math.PI/2),E=e.theta||0,_={update:v,copyInto:m,position:e.position?e.position.slice():[0,0,1],direction:[0,0,-1],up:e.up?e.up.slice():[0,1,0],target:e.target?e.target.slice():[0,0,0],distance:o(e.distance,1),damping:o(e.damping,.25),rotateSpeed:o(e.rotateSpeed,.28),zoomSpeed:o(e.zoomSpeed,.0075),pinchSpeed:o(e.pinchSpeed,.0075),pinch:!1!==e.pinching,zoom:!1!==e.zoom,rotate:!1!==e.rotate,phiBounds:e.phiBounds||[0,Math.PI],thetaBounds:e.thetaBounds||[-1/0,1/0],distanceBounds:e.distanceBounds||[0,1/0]};"number"!=typeof e.distance&&(f.subtract(p,_.position,_.target),_.distance=f.length(p));var L=a({parent:e.parent||window,element:e.element,rotate:!1!==e.rotate?t:null,zoom:!1!==e.zoom?n:null,pinch:!1!==e.pinch?r:null});return _.enable=L.enable,_.disable=L.disable,Object.defineProperties(_,{phi:{get:function(){return M},set:function(e){M=e,g()}},theta:{get:function(){return E},set:function(e){E=e,g()}},dragging:{get:function(){return L.isDragging()}},pinching:{get:function(){return L.isPinching()}}}),g(),_}function i(e,t,n,r){f.copy(e,r),f.subtract(e,e,n),f.normalize(e,e)}var o=e("defined"),s=e("clamp"),a=e("./lib/input"),u=e("quat-from-unit-vec3"),c=e("gl-quat/invert"),f={length:e("gl-vec3/length"),add:e("gl-vec3/add"),subtract:e("gl-vec3/subtract"),transformQuat:e("gl-vec3/transformQuat"),copy:e("gl-vec3/copy"),normalize:e("gl-vec3/normalize"),cross:e("gl-vec3/cross")},l=[0,1,0],h=Math.pow(2,-23),p=[0,0,0];t.exports=r},{"./lib/input":36,clamp:8,defined:9,"gl-quat/invert":12,"gl-vec3/add":20,"gl-vec3/copy":21,"gl-vec3/cross":22,"gl-vec3/length":24,"gl-vec3/normalize":25,"gl-vec3/subtract":27,"gl-vec3/transformQuat":28,"quat-from-unit-vec3":42}],36:[function(e,t,n){function r(e){function t(){j||(j=!0,L&&(y=i(b,function(e,t){L(t)},!0)),T&&(b.addEventListener("mousedown",h,!1),w.addEventListener("mousemove",d,!1),w.addEventListener("mouseup",p,!1)),(T||A)&&(g=s(b),b.addEventListener("touchstart",r,!1),T&&(b.addEventListener("touchmove",a,!1),g.on("place",u),g.on("lift",c)),A&&g.on("change",l)))}function n(){j&&(j=!1,y&&b.removeEventListener("wheel",y),g&&(g.disable(),b.removeEventListener("touchstart",r,!1),T&&b.removeEventListener("touchmove",a,!1)),T&&(w.removeEventListener("mousedown",h,!1),w.removeEventListener("mousemove",d,!1),w.removeEventListener("mouseup",p,!1)))}function r(e){e.preventDefault()}function a(e){if(M&&!f())for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],r=g.indexOfTouch(n),i=A?-1!==r:0===r;if(i){d(n);break}}}function u(e,t){if(M=!f()){h(t||e)}}function c(e,t){var n=g.fingers.reduce(function(e,t){return e+(t?1:0)},0);(M=A&&n>=1)&&t&&o(t,b,x)}function f(){return g.pinching&&A}function l(e,t){A(e-t)}function h(e){o(e,b,x),v(x)&&(M=!0)}function p(){M=!1}function d(e){var t=o(e,b,E);if(g&&f())return void(x=t);if(M){var n=m(_),r=(t[0]-x[0])/n[0],i=(t[1]-x[1])/n[1];T(r,i),x[0]=t[0],x[1]=t[1]}}function v(e){if(b===window||b===document||b===document.body)return!0;var t=b.getBoundingClientRect();return e[0]>=0&&e[1]>=0&&e[0]<t.width&&e[1]<t.height}function m(e){var t=b;return t!==window&&t!==document&&t!==document.body||(t=document.documentElement),e[0]=t.clientWidth,e[1]=t.clientHeight,e}var g,y,b=e.element||window,w=e.parent||b,x=[0,0],M=!1,E=[0,0],_=[0,0],L=e.zoom,T=e.rotate,A=e.pinch,j=!1;return t(),{isDragging:function(){return M},isPinching:f,enable:t,disable:n}}var i=e("mouse-wheel"),o=e("mouse-event-offset"),s=e("touch-pinch");t.exports=r},{"mouse-event-offset":31,"mouse-wheel":32,"touch-pinch":47}],37:[function(e,t,n){t.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},{}],38:[function(e,t,n){(function(e){(function(){var n,r,i,o,s,a;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-s)/1e6},r=e.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},o=n(),a=1e9*e.uptime(),s=o-a):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:41}],39:[function(e,t,n){var r=e("gl-vec2/add"),i=e("gl-vec2/set"),o=e("gl-vec2/normalize"),s=e("gl-vec2/subtract"),a=e("gl-vec2/dot"),u=[0,0];t.exports.computeMiter=function(e,t,n,s,c){return r(e,n,s),o(e,e),i(t,-e[1],e[0]),i(u,-n[1],n[0]),c/a(t,u)},t.exports.normal=function(e,t){return i(e,-t[1],t[0]),e},t.exports.direction=function(e,t,n){return s(e,t,n),o(e,e),e}},{"gl-vec2/add":14,"gl-vec2/dot":16,"gl-vec2/normalize":17,"gl-vec2/set":18,"gl-vec2/subtract":19}],40:[function(e,t,n){function r(e,t,n){e.push([[t[0],t[1]],n])}var i=e("polyline-miter-util"),o=[0,0],s=[0,0],a=[0,0],u=[0,0];t.exports=function(e,t){var n=null,c=[];t&&(e=e.slice(),e.push(e[0]));for(var f=e.length,l=1;l<f;l++){var h=e[l-1],p=e[l],d=l<e.length-1?e[l+1]:null;if(i.direction(o,p,h),n||(n=[0,0],i.normal(n,o)),1===l&&r(c,n,1),d){i.direction(s,d,p);var v=i.computeMiter(a,u,o,s,1);r(c,u,v)}else i.normal(n,o),r(c,n,1)}if(e.length>2&&t){var m=e[f-2],g=e[0],y=e[1];i.direction(o,g,m),i.direction(s,y,g),i.normal(n,o);var b=i.computeMiter(a,u,o,s,1);c[0][0]=u.slice(),c[f-1][0]=u.slice(),c[0][1]=b,c[f-1][1]=b,c.pop()}return c}},{"polyline-miter-util":39}],41:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function s(e){if(h===clearTimeout)return clearTimeout(e);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){m&&d&&(m=!1,d.length?v=d.concat(v):g=-1,v.length&&u())}function u(){if(!m){var e=o(a);m=!0;for(var t=v.length;t;){for(d=v,v=[];++g<t;)d&&d[g].run();g=-1,t=v.length}d=null,m=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function f(){}var l,h,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(e){h=i}}();var d,v=[],m=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new c(e,t)),1!==v.length||m||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=f,p.addListener=f,p.once=f,p.off=f,p.removeListener=f,p.removeAllListeners=f,p.emit=f,p.prependListener=f,p.prependOnceListener=f,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],42:[function(e,t,n){function r(e,t,n){var r=i(t,n)+1;return r<c?(r=0,Math.abs(t[0])>Math.abs(t[2])?o(u,-t[1],t[0],0):o(u,0,-t[2],t[1])):a(u,t,n),e[0]=u[0],e[1]=u[1],e[2]=u[2],e[3]=r,s(e,e),e}var i=e("gl-vec3/dot"),o=e("gl-vec3/set"),s=e("gl-quat/normalize"),a=e("gl-vec3/cross"),u=[0,0,0],c=1e-6;t.exports=r},{"gl-quat/normalize":13,"gl-vec3/cross":22,"gl-vec3/dot":23,"gl-vec3/set":26}],43:[function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);this.running=!1,this.last=s(),this._frame=0,this._tick=this.tick.bind(this),e&&this.on("tick",e)}var i=e("inherits"),o=e("events").EventEmitter,s=e("right-now"),a=e("raf");t.exports=r,i(r,o),r.prototype.start=function(){if(!this.running)return this.running=!0,this.last=s(),this._frame=a(this._tick),this},r.prototype.stop=function(){return this.running=!1,0!==this._frame&&a.cancel(this._frame),this._frame=0,this},r.prototype.tick=function(){this._frame=a(this._tick);var e=s(),t=e-this.last;this.emit("tick",t),this.last=e}},{events:11,inherits:30,raf:44,"right-now":45}],44:[function(e,t,n){(function(n){for(var r=e("performance-now"),i="undefined"==typeof window?n:window,o=["moz","webkit"],s="AnimationFrame",a=i["request"+s],u=i["cancel"+s]||i["cancelRequest"+s],c=0;!a&&c<o.length;c++)a=i[o[c]+"Request"+s],u=i[o[c]+"Cancel"+s]||i[o[c]+"CancelRequest"+s];if(!a||!u){var f=0,l=0,h=[];a=function(e){if(0===h.length){var t=r(),n=Math.max(0,1e3/60-(t-f));f=n+t,setTimeout(function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(f)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return h.push({handle:++l,callback:e,cancelled:!1}),l},u=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}t.exports=function(e){return a.call(i,e)},t.exports.cancel=function(){u.apply(i,arguments)},t.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=a,e.cancelAnimationFrame=u}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":38}],45:[function(e,t,n){(function(e){t.exports=e.performance&&e.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(e,t,n){"use strict";function r(e,t){var n=s(getComputedStyle(e).getPropertyValue(t));return n[0]*o(n[1],e)}function i(e,t){var n=document.createElement("div");n.style["font-size"]="128"+e,t.appendChild(n);var i=r(n,"font-size")/128;return t.removeChild(n),i}function o(e,t){switch(t=t||document.body,e=(e||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return i(e,t);case"em":return r(t,"font-size");case"rem":return r(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}var s=e("parse-unit");t.exports=o;var a=96},{"parse-unit":37}],47:[function(e,t,n){function r(e){function t(e){for(var t=e.identifier,n=0;n<d.length;n++)if(d[n]&&d[n].touch&&d[n].touch.identifier===t)return n;return-1}function n(){y||(y=!0,e.addEventListener("touchstart",c,!1),e.addEventListener("touchmove",f,!1),e.addEventListener("touchend",l,!1),e.addEventListener("touchcancel",l,!1))}function r(){y&&(y=!1,v=0,d[0]=null,d[1]=null,m=0,g=!1,e.removeEventListener("touchstart",c,!1),e.removeEventListener("touchmove",f,!1),e.removeEventListener("touchend",l,!1),e.removeEventListener("touchcancel",l,!1))}function c(n){for(var r=0;r<n.changedTouches.length;r++){var o=n.changedTouches[r];if(-1===t(o.identifier)&&v<2){var s=0===v,a=d[0]?1:0,c=d[0]?0:1,f=new i;d[a]=f,v++,f.touch=o,u(o,e,f.position);var l=d[c]?d[c].touch:void 0;if(p.emit("place",o,l),!s){var y=h();g=!1,p.emit("start",y),m=y}}}}function f(n){for(var r=!1,i=0;i<n.changedTouches.length;i++){var o=n.changedTouches[i],s=t(o);-1!==s&&(r=!0,d[s].touch=o,u(o,e,d[s].position))}if(2===v&&r){var a=h();p.emit("change",a,m),m=a}}function l(e){for(var n=0;n<e.changedTouches.length;n++){var r=e.changedTouches[n],i=t(r);if(-1!==i){d[i]=null,v--;var o=0===i?1:0,s=d[o]?d[o].touch:void 0;p.emit("lift",r,s)}}g||2===v||(g=!0,p.emit("end"))}function h(){return v<2?0:o(d[0].position,d[1].position)}e=e||window;var p=new s,d=[null,null],v=0,m=0,g=!1,y=!1;return Object.defineProperties(p,{pinching:a(function(){return 2===v}),fingers:a(function(){return d})}),n(),p.enable=n,p.disable=r,p.indexOfTouch=t,p}function i(){this.position=[0,0],this.touch=null}var o=e("gl-vec2/distance"),s=e("events").EventEmitter,a=e("dprop"),u=e("mouse-event-offset");t.exports=r},{dprop:10,events:11,"gl-vec2/distance":15,"mouse-event-offset":31}],48:[function(e,t,n){t.exports=function(e,t,n){return(n-e)/(t-e)}},{}],49:[function(e,t,n){var r=e("object-assign");t.exports=function(e){return function(t){t=t||{};var n="number"==typeof t.thickness?t.thickness:.1,i="number"==typeof t.opacity?t.opacity:1,o=null!==t.diffuse?t.diffuse:16777215;delete t.thickness,delete t.opacity,delete t.diffuse,delete t.precision;var s=r({uniforms:{thickness:{type:"f",value:n},opacity:{type:"f",value:i},diffuse:{type:"c",value:new e.Color(o)}},vertexShader:["uniform float thickness;","attribute float lineMiter;","attribute vec2 lineNormal;","void main() {","vec3 pointPos = position.xyz + vec3(lineNormal * thickness / 2.0 * lineMiter, 0.0);","gl_Position = projectionMatrix * modelViewMatrix * vec4(pointPos, 1.0);","}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","void main() {","gl_FragColor = vec4(diffuse, opacity);","}"].join("\n")},t);return(0|(parseInt(e.REVISION,10)||0))<72&&(s.attributes={lineMiter:{type:"f",value:0},lineNormal:{type:"v2",value:new e.Vector2}}),s}}},{"object-assign":34}],50:[function(e,t,n){function r(e){function t(){const e=window.innerWidth,t=window.innerHeight,n=e/t;l.update(),u.position.fromArray(l.position),u.up.fromArray(l.up),u.lookAt(c.fromArray(l.direction)),u.aspect=n,u.updateProjectionMatrix()}function n(){s.setSize(window.innerWidth,window.innerHeight),t()}e=e||{};const r=window.devicePixelRatio,s=new THREE.WebGLRenderer(o({antialias:!0},e));"function"==typeof s.setPixelRatio&&s.setPixelRatio(r);const a=s.domElement;document.body.appendChild(a);const u=new THREE.PerspectiveCamera(60,1,.01,1e3),c=new THREE.Vector3,f=new THREE.Scene,l=i(o({canvas:a,theta:5*Math.PI/180,phi:-90*Math.PI/180,distance:3,distanceBounds:[2,40]},e));return window.addEventListener("resize",n),n(),{updateProjectionMatrix:t,camera:u,scene:f,renderer:s,controls:l,canvas:a}}const i=e("orbit-controls"),o=e("object-assign");t.exports=r},{"object-assign":34,"orbit-controls":35}],51:[function(e,t,n){var r=e("as-number"),i=e("object-assign");t.exports=function(e){return function(t){t=t||{};var n=i({transparent:!0,uniforms:{thickness:{type:"f",value:r(t.thickness,.1)},opacity:{type:"f",value:r(t.opacity,1)},diffuse:{type:"c",value:new e.Color(t.diffuse)},dashSteps:{type:"f",value:12},dashDistance:{type:"f",value:.2},dashSmooth:{type:"f",value:.01}},vertexShader:["uniform float thickness;","attribute float lineMiter;","attribute vec2 lineNormal;","attribute float lineDistance;","varying float lineU;","void main() {","lineU = lineDistance;","vec3 pointPos = position.xyz + vec3(lineNormal * thickness/2.0 * lineMiter, 0.0);","gl_Position = projectionMatrix * modelViewMatrix * vec4( pointPos, 1.0 );","}"].join("\n"),fragmentShader:["varying float lineU;","uniform float opacity;","uniform vec3 diffuse;","uniform float dashSteps;","uniform float dashSmooth;","uniform float dashDistance;","void main() {","float lineUMod = mod(lineU, 1.0/dashSteps) * dashSteps;","float dash = smoothstep(dashDistance, dashDistance+dashSmooth, length(lineUMod-0.5));","gl_FragColor = vec4(diffuse * vec3(dash), opacity * dash);","}"].join("\n")},t);return delete n.thickness,delete n.opacity,delete n.diffuse,(0|(parseInt(e.REVISION,10)||0))<72&&(n.attributes={lineMiter:{type:"f",value:0},lineDistance:{type:"f",value:0},lineNormal:{type:"v2",value:new e.Vector2}}),n}}},{"as-number":6,"object-assign":34}],52:[function(e,t,n){var r=e("object-assign"),i=e("as-number");t.exports=function(e){return function(t){t=t||{};var n=r({transparent:!0,uniforms:{thickness:{type:"f",value:i(t.thickness,.1)},opacity:{type:"f",value:i(t.opacity,1)},diffuse:{type:"c",value:new e.Color(t.diffuse)},time:{type:"f",value:0}},vertexShader:["uniform float thickness;","attribute float lineMiter;","attribute vec2 lineNormal;","attribute float lineDistance;","varying float edge;","varying float lineU;","uniform float time;","void main() {","edge = sign(lineMiter);","lineU = lineDistance;","vec3 pointPos = position.xyz + vec3(lineNormal * thickness/2.0 * lineMiter, 0.0);","gl_Position = projectionMatrix * modelViewMatrix * vec4( pointPos, 1.0 );","}"].join("\n"),fragmentShader:["varying float edge;","varying float lineU;","uniform float opacity;","uniform float time;","uniform vec3 diffuse;","void main() {","float lineV = 1.0 - abs(edge);","lineV = smoothstep(0.0, 0.8, lineV);","float radial = lineU * sin(time + lineU*2.0);","gl_FragColor = vec4(vec3(lineV), 1.0);","gl_FragColor.a *= opacity * radial * lineV;","}"].join("\n")},t);return delete n.thickness,delete n.opacity,delete n.diffuse,(0|(parseInt(e.REVISION,10)||0))<72&&(n.attributes={lineMiter:{type:"f",value:0},lineDistance:{type:"f",value:0},lineNormal:{type:"v2",value:new e.Vector2}}),n}}},{"as-number":6,"object-assign":34}]},{},[1]);
